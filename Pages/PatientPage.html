<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>

    <script src="../Scripts/ajaxCalls.js"></script>

    <script>

        $(document).ready(function () {


            ajaxCall("GET", "../api/Patients?severity=2", "", getSCB, getECB);

            $("#SubmitPatientBTN").click(SubmitPatient);

        });


        function getSCB(patientsList) {
            console.log(patientsList);
        }

        function getECB(err) {
            alert(err);
        }

        function SubmitPatient() {

            console.log("in SubmitPatient");
            let name = $("#nameTB").val();
            let severity = $("#severityTB").val();

            myPatient = {
                Name: name,
                Severity: severity
            }

            ajaxCall("POST", "../api/Patients", JSON.stringify(myPatient), postSCB, postECB);

        }

        function postSCB(result) {
            alert(result);
        }

        function postECB(err) {
            alert(err);
        }


    </script>


</head>
<body>



    <table>
        <tr>
            <td>name:</td>
            <td><input type="text" id="nameTB" /></td>
        </tr>
        <tr>
            <td>severity:</td>
            <td><input type="number" id="severityTB" /></td>
        </tr>
        <tr>
            <td><button id="SubmitPatientBTN">Submit Patient</button></td>
        </tr>
    </table>

</body>
</html>